kind: AdaptiveDialog
modelDescription: TÃ³pico de sistema personalizado para "InÃ­cio da Conversa". SaÃºda o usuÃ¡rio com cartÃ£o adaptÃ¡vel unificado, apresenta o agente e oferece aÃ§Ãµes rÃ¡pidas.
beginDialog:
  kind: OnConversationStart
  id: conversationStart
  actions:
    - kind: SetVariable
      id: BuildGreeting
      variable: Topic.greeting_text
      value: =If(IsBlank(System.User.DisplayName), "OlÃ¡! ðŸ‘‹", "OlÃ¡, " & System.User.DisplayName & "! ðŸ‘‹")

    - kind: SendActivity
      id: WelcomeCard
      activity:
        attachments:
          - kind: AdaptiveCardTemplate
            cardContent: |-
              ={
                '$schema': "http://adaptivecards.io/schemas/adaptive-card.json",
                type: "AdaptiveCard",
                version: "1.5",
                body: [
                  {
                    type: "ColumnSet",
                    columns: [
                      {
                        type: "Column",
                        width: "auto",
                        items: [
                          {
                            type: "Image",
                            url: "https://cdn-icons-png.flaticon.com/512/4712/4712109.png",
                            size: "Medium",
                            style: "Person"
                          }
                        ]
                      },
                      {
                        type: "Column",
                        width: "stretch",
                        items: [
                          {
                            type: "TextBlock",
                            text: Topic.greeting_text,
                            size: "Large",
                            weight: "Bolder",
                            wrap: true
                          },
                          {
                            type: "TextBlock",
                            text: "Eu sou o **CAU - Tickets**",
                            size: "Medium",
                            weight: "Bolder",
                            color: "Accent",
                            wrap: true,
                            spacing: "None"
                          }
                        ],
                        verticalContentAlignment: "Center"
                      }
                    ]
                  },
                  {
                    type: "TextBlock",
                    text: "Seu assistente virtual para abertura e acompanhamento de chamados no GLPI.",
                    wrap: true,
                    spacing: "Medium",
                    separator: true,
                    color: "Default"
                  },
                  {
                    type: "Container",
                    spacing: "Medium",
                    style: "emphasis",
                    items: [
                      {
                        type: "TextBlock",
                        text: "**Como posso ajudar?**",
                        weight: "Bolder",
                        size: "Medium"
                      },
                      {
                        type: "TextBlock",
                        text: "â€¢ Abrir novos chamados tÃ©cnicos
              â€¢ Acompanhar solicitaÃ§Ãµes existentes
              â€¢ Encaminhar para atendimento humano",
                        wrap: true,
                        spacing: "Small"
                      }
                    ]
                  },
                  {
                    type: "TextBlock",
                    text: "ðŸ’¬ Descreva seu problema ou escolha uma opÃ§Ã£o:",
                    wrap: true,
                    spacing: "Medium",
                    weight: "Bolder",
                    size: "Small"
                  }
                ],
                actions: [
                  {
                    type: "Action.Execute",
                    title: "ðŸŽ« Abrir chamado",
                    verb: "createTicket",
                    data: {
                      triggerText: "criar chamado"
                    },
                    style: "positive"
                  },
                  {
                    type: "Action.Submit",
                    title: "ðŸ‘¤ Falar com humano",
                    data: {
                      msteams: {
                        type: "messageBack",
                        displayText: "Falar com humano",
                        text: "falar com humano"
                      }
                    }
                  }
                ]
              }

inputType: {}
outputType: {}
variables:
  - name: Topic.greeting_text
    type: string